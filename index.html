<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eletube MVP</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <!-- This view shows when the user is logged OUT -->
    <div id="login-view" class="view">
        <h1>Welcome to Eletube Clips</h1>
        <p>A place to share clips for Element 79.</p>
        <a id="login-button" class="login-button">Login with Discord</a>
    </div>

    <!-- This view shows when the user is logged IN -->
    <div id="app-view" class="view hidden">
        <header>
            <h2 id="welcome-message">Welcome, user!</h2>
            <button id="logout-button">Logout</button>
        </header>

        <main>
            <!-- Upload Form Section -->
            <section class="card">
                <h3>Upload a New Clip</h3>
                <form id="upload-form">
                    <input type="text" id="title" placeholder="Clip Title" required>
                    <textarea id="description" placeholder="Description (optional)"></textarea>

                    <select id="game-select" required>
                        <option value="" disabled selected>Select a Game...</option>
                        <!-- Games will be populated here by JavaScript -->
                    </select>
                    <input type="text" id="subgame"
                        placeholder="Sub-game / Mode (e.g., Ranked, Bee Swarm Simulator, Firebush)">

                    <label for="video-file">Select video file:</label>
                    <input type="file" id="video-file" accept="video/*" required>
                    <button type="submit" id="upload-button">Upload</button>
                    <p id="upload-status"></p>
                </form>
            </section>

            <section class="card">
                <h3>Upload from URL</h3>
                <form id="url-upload-form">
                    <input type="url" id="clip-url" placeholder="Paste clip URL (e.g., from Medal)" required>
                    <input type="text" id="url-title" placeholder="Clip Title" required>

                    <!-- We will reuse the same games dropdown -->
                    <select id="url-game-select" required>
                        <option value="" disabled selected>Select a Game...</option>
                    </select>

                    <input type="text" id="url-subgame" placeholder="Sub-game / Mode (optional)">
                    <textarea id="url-description" placeholder="Description (optional)"></textarea>

                    <button type="submit" id="url-upload-button">Process from URL</button>
                    <p id="url-upload-status"></p>
                </form>
            </section>

            <!-- Clips Dashboard Section -->
            <section class="card">
                <h3>Shared Clips</h3>
                <div id="clips-list">
                    <!-- Clips will be dynamically inserted here by JavaScript -->
                </div>
            </section>
        </main>
    </div>

    <!-- The script MUST be at the end of the body -->
    <script src="script.js"></script>
</body>

</html>